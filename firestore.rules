rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {

    // Public reads for config + leaderboard (ok for MVP; tighten later)
    match /leaderboard_monthly/{month}/entries/{account} { allow read: if true; }
    match /game_config/{doc}                             { allow read: if true; }

    // ðŸ”„ Realtime needs these
    match /city_boosts/{doc} { allow read: if true; }
    match /runtime/{doc}     { allow read: if true; } // covers pricing, leaderboard_current, etc.

    // Players: read-only for now, writes only via Cloud Functions
    match /players/{account} {
      allow read: if true;         // TODO: tighten later when auth lands
      allow write: if false;
      match /{sub=**}/{doc} {
        allow read: if true;
        allow write: if false;
      }
    }
  }
}
